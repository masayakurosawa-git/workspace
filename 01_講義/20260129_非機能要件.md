# 非機能要件
## `クラスタの構成`
- アクティブ・アクティブ構成

</br>

- アクティブ・パッシブ構成
稼働系と待機系で構成され、障害が発生したときに、稼働系を待機系に、待機系を稼働系にチェンジする。
  - フェイルオーバー ： メインサーバ → 待機系
  - フェイルバック ： 待機系 → メインサーバ

</br>

- リソース
  - 何を指して話しているのかを意識する。

</br>
</br>


## `性能/拡張性`
### 性能
- レスポンス
  - クライアント側がリクエストをしてからレスポンスを受けるまでの時間。

- スループット
  - 単一時間あたりの処理量。

</br>


### 拡張性
- スケールアップ
  - CPU、メモリのリソースをアップすること。縦の強化

- スケールダウン
  - サーバ自体を増やしてシステム全体を増強すること。横の強化

</br>


### キャパシティ管理
Zabbixや監視ツールを使い、CPUやメモリのリソース状況をウォッチして今後のリソース増加を予測すること。

</br>
</br>
</br>



## `運用/保守性`
### 運用
監視やバックアップ、定期的なメンテナンス等、システムが安定して稼働するために定常的なオペレーションを行うこと。

</br>

### 保守
システム変更やトラブル対応を行う。セキュリティ対策としてセキュリティパッチ適用といった作業も実施。

</br>

### 運用/保守に必要なスキル
- 正確なオペレーション
- システム全体を把握する
- システム全体を把握した上で、問題点を発見し改善するスキル

#### -- 運用改善できるインフラエンジニアとは？ --
- 運用の非効率無点を自動化で解決
- 手順書の不備を修正して、作業ミスを減らす
- キャパシティ管理から無駄なコストを発見する
- インパクトの大きいSPOFを洗い出して対応する


</br>
</br>
</br>



## `移行性`
サーバ老朽化やアプリケーションの一新により、システムを移行する必要がある。
### 移行時期
計画的にやること。

</br>

### 移行方式
- 一気に行うか
  - 規模や量によっては、停止期間が長くなる可能性がある。
  - 期間が短くて済む。

- 並行して行うか
  - 対象システム/業務を分割して移行段階をステップで分けて移行していく。
  - 停止期間は短くなるが、移行期間が長くなる。

</br>

### 移行対象
- 全ての移行対象を洗い出す。
  - 洗い出しが甘いと、新システムに移行後、不具合が発生することがある。

</br>

### EOSL(End Of Service Life)
メーカーが製品のサポートを終了すること。

</br>
</br>
</br>




## `セキュリティ`
### アクセス制限
- システムで稼働しているサーバに対し、炉ツイン権限を与えるユーザを決める。
- AWSであれば、IAMによるアクセス制御
- ログイン方法をパスワード、2段階認証、指紋認証にするのかといった設計

運用フェーズでも、アカウント一覧を棚卸して、不要な権限を付与していないかの確認も必要。

- ゼロトラスト
  - システムにアクセスしてきたユーザすらも信用しない。内部の人でさえも疑う。

</br>

### ネットワーク対策
不要な通信の制御を行う。

</br>

### データ暗号化
webサーバをSSL通信とすることで、ユーザとサーバ間の通信を暗号化することができる。</br>
暗号化はサーバに負荷がかかるため、むやみに暗号化すればいいというわけではない。

</br>

### マルウェア対策
- 定期スキャン
  - 夜間などに定期的に実施すること。負荷はかかるが一回のスキャンで完了する。

- リアルタイムスキャン
  - ファイルの更新があるたびにスキャンするため、感染リスクは低いが、システムに負荷がかかる。

</br>

### 不正監視
内部犯行をチェックする仕組み。</br>
内部からの情報流出を防ぐ。(現場のコードを個人のドライブやGitHubに送信していないかを監視される)

- 踏み台サーバ
  - AWS Session Manager






