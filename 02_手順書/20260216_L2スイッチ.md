# 演習
# `■ L2Swich-1`
### 1. 機器を配置
Packet Tracer 左下のアイコンから配置します。
- Switch → 2960 など
- PC → 2台
キャンバスにドラッグするだけでOKです。
---
</br>


### 2. ケーブル接続
下の「⚡（稲妻マーク）」をクリック → ケーブル選択。

**使うケーブル：**
- Copper Straight-Through（ストレートケーブル）

**接続例：**
- PC0 FastEthernet0 → Switch FastEthernet0/1
- PC1 FastEthernet0 → Switch FastEthernet0/2
※L2スイッチ同士はクロス、PCとスイッチはストレートが基本。
---
</br>


### 3. IPアドレス設定
PCをクリック → Desktop → IP Configuration
同じネットワークにします。

- **PC0**
    - IP Address: `192.168.1.1`
    - Subnet Mask: `255.255.255.0`
    - Default Gateway: 空欄でOK

- **PC1**
    - IP Address: `192.168.1.2`
    - Subnet Mask: `255.255.255.0`
    - Default Gateway: 空欄でOK

ポイント：同じネットワークであればルータ不要。

---
</br>


### 4. ping確認
PC0 → Desktop → Command Prompt
```bash
ping 192.168.1.2
```
▼成功すると：
```bash
C:\>ping 192.168.1.2

Pinging 192.168.1.2 with 32 bytes of data:

Reply from 192.168.1.2: bytes=32 time<1ms TTL=128
Reply from 192.168.1.2: bytes=32 time<1ms TTL=128
Reply from 192.168.1.2: bytes=32 time<1ms TTL=128
Reply from 192.168.1.2: bytes=32 time<1ms TTL=128

Ping statistics for 192.168.1.2:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 0ms, Maximum = 0ms, Average = 0ms

C:\>
```
---
</br>
</br>
</br>


# `■ L2Swich-2`
### 全体イメージ
| VLAN   | PC       | ネットワーク         |
| ------ | -------- | -------------- |
| VLAN10 | PC0, PC1 | 192.168.1.0/24 |
| VLAN20 | PC2, PC3 | 192.168.2.0/24 |
---
</br>


### 1. PCを4台接続
| PC  | 接続ポート |
| --- | ----- |
| PC0 | Fa0/1 |
| PC1 | Fa0/2 |
| PC2 | Fa0/3 |
| PC3 | Fa0/4 |
---
</br>


### 2. IPアドレス設定
**VLAN10用**
- **PC0**
    - IP Address: `192.168.1.1`
    - Subnet Mask: `255.255.255.0`

- **PC1**
    - IP Address: `192.168.1.2`
    - Subnet Mask: `255.255.255.0`

**VLAN20用**
- **PC2**
    - IP Address: `192.168.2.1`
    - Subnet Mask: `255.255.255.0`

- **PC3**
    - IP Address: `192.168.2.2`
    - Subnet Mask: `255.255.255.0`

---
</br>


### 3. スイッチ設定（CLI）
Switch をクリック → CLI

**VLAN作成**
```bash
enable
configure terminal

# VLAN10 を作成
vlan 10
name VLAN10
exit

# VLAN20 を作成
vlan 20
name VLAN20
exit
```

**ポート割り当て**
```bash
# スイッチポート fa0/1 - 2 を操作
interface range fa0/1 - 2
switchport mode access
switchport access vlan 10
exit

# スイッチポート fa0/3 - 4 を操作
interface range fa0/3 - 4
switchport mode access
switchport access vlan 20
exit
```
---
</br>


### 4. 確認コマンド
```bash
# 特権EXECモードで実行すること
show vlan brief
```
▼実行後
```bash
Switch#show vlan brief

VLAN Name                             Status    Ports
---- -------------------------------- --------- -------------------------------
1    default                          active    Fa0/5, Fa0/6, Fa0/7, Fa0/8
                                                Fa0/9, Fa0/10, Fa0/11, Fa0/12
                                                Fa0/13, Fa0/14, Fa0/15, Fa0/16
                                                Fa0/17, Fa0/18, Fa0/19, Fa0/20
                                                Fa0/21, Fa0/22, Fa0/23, Fa0/24
                                                Gig0/1, Gig0/2
10   VLAN10                           active    Fa0/1, Fa0/2
20   VLAN20                           active    Fa0/3, Fa0/4
1002 fddi-default                     active    
1003 token-ring-default               active    
1004 fddinet-default                  active    
1005 trnet-default                    active    
Switch#
```
---
</br>


### 5. Ping確認
- **成功**
    - PC0 → PC1
    - PC2 → PC3

- **失敗（これが正しい）**
    - PC0 → PC2
    - PC1 → PC3
---
</br>
</br>
</br>





# `■ L2Swich-3`
### 前提
- スイッチが 2台以上 接続されていること
---
</br>

### 1. ルートにしたいスイッチをクリック
→ CLI タブ を選択

---
</br>


### 2. ルートブリッジの変更
**特権モードへ**
```bash
enable
```
**コンフィグモードへ**
```bash
configure terminal
```
**ルートに設定**
```bash
spanning-tree vlan 1 root primary
```
変更されない場合、数値を変更：
```bash
# 特権モードで実行
spanning-tree vlan 1 priority 0
```
---
</br>


### 3. 確認
```bash
# 特権モードで実行
show spanning-tree
```
▼`This bridge is the root` が表示されていること
```bash
Switch#show spanning-tree
VLAN0001
  Spanning tree enabled protocol ieee
  Root ID    Priority    24577
             Address     0040.0BB7.A62E
             This bridge is the root # ← ここが追加されていること！！
             Hello Time  2 sec  Max Age 20 sec  Forward Delay 15 sec

  Bridge ID  Priority    24577  (priority 24576 sys-id-ext 1)
             Address     0040.0BB7.A62E
             Hello Time  2 sec  Max Age 20 sec  Forward Delay 15 sec
             Aging Time  20

Interface        Role Sts Cost      Prio.Nbr Type
---------------- ---- --- --------- -------- --------------------------------
Fa0/1            Desg FWD 19        128.1    P2p
Fa0/2            Desg FWD 19        128.2    P2p

Switch#
```
---
</br>
</br>
</br>